#-------------------------------------------
#  Laundry Room Multisensor
#-------------------------------------------
- platform: template
  sensors:
    laundry_multisensor_battery:
      friendly_name: 'Laundry Room Multisensor'
      value_template: '{% if states.zwave.laundry_multisensor.attributes.battery_level %}
        {{ states.zwave.laundry_multisensor.attributes.battery_level }}
      {% else %}
        unknown
      {% endif %}'      
      unit_of_measurement: '%'
      entity_id: zwave.laundry_multisensor
      icon_template: >-
        {% set battery_level = states('sensor.laundry_multisensor_battery')|int('unknown') %}
        {% set battery_round = (battery_level|int / 10)|int * 10 %}
        {% if battery_level == 'unknown' %}
          mdi:battery-unknown
        {% else %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
        {% endif %}

#-------------------------------------------
#  Master Bath Multisensor
#-------------------------------------------
- platform: template
  sensors:
    master_bath_multisensor_battery:
      friendly_name: 'Master Bath Multisensor'
      value_template: '{% if states.zwave.master_bath_multisensor.attributes.battery_level %}
        {{ states.zwave.master_bath_multisensor.attributes.battery_level }}
      {% else %}
        unknown
      {% endif %}'      
      unit_of_measurement: '%'
      entity_id: zwave.master_bath_multisensor
      icon_template: >-
        {% set battery_level = states('sensor.master_bath_multisensor')|int('unknown') %}
        {% set battery_round = (battery_level|int / 10)|int * 10 %}
        {% if battery_level == 'unknown' %}
          mdi:battery-unknown
        {% else %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
        {% endif %}

#-------------------------------------------
#  Study Multisensor
#-------------------------------------------
- platform: template
  sensors:
    study_multisensor_battery:
      friendly_name: 'Study Multisensor'
      value_template: '{% if states.zwave.study_multisensor.attributes.battery_level %}
        {{ states.zwave.study_multisensor.attributes.battery_level }}
      {% else %}
        unknown
      {% endif %}'      
      unit_of_measurement: '%'
      entity_id: zwave.study_multisensor
      icon_template: >-
        {% set battery_level = states('sensor.study_multisensor')|int('unknown') %}
        {% set battery_round = (battery_level|int / 10)|int * 10 %}
        {% if battery_level == 'unknown' %}
          mdi:battery-unknown
        {% else %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
        {% endif %}

#-------------------------------------------
#  Kitchen Multisensor
#-------------------------------------------
- platform: template
  sensors:
    kitchen_multisensor_battery:
      friendly_name: 'Kitchen Multisensor'
      value_template: '{% if states.zwave.kitchen_multisensor.attributes.battery_level %}
        {{ states.zwave.kitchen_multisensor.attributes.battery_level }}
      {% else %}
        unknown
      {% endif %}'      
      unit_of_measurement: '%'
      entity_id: zwave.kitchen_multisensor
      icon_template: >-
        {% set battery_level = states('sensor.kitchen_multisensor')|int('unknown') %}
        {% set battery_round = (battery_level|int / 10)|int * 10 %}
        {% if battery_level == 'unknown' %}
          mdi:battery-unknown
        {% else %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
        {% endif %}

#-------------------------------------------
#  Front Door Lock
#-------------------------------------------
- platform: template
  sensors:
    front_door_battery:
      friendly_name: 'Front Door Lock Battery'
      value_template: '{% if states.zwave.front_door.attributes.battery_level %}
        {{ states.zwave.front_door.attributes.battery_level }}
      {% else %}
        unknown
      {% endif %}'
      unit_of_measurement: '%'
      entity_id: zwave.front_door
      icon_template: >-
        {% set battery_level = states('sensor.front_door_battery')|int('unknown') %}
        {% set battery_round = (battery_level|int / 10)|int * 10 %}
        {% if battery_level == 'unknown' %}
          mdi:battery-unknown
        {% else %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
        {% endif %}

#-------------------------------------------
#  Back Door Lock
#-------------------------------------------
- platform: template
  sensors:
    back_door_battery:
      friendly_name: 'Back Door Lock Battery'
      # value_template: '{{ states.zwave.back_door.attributes.battery_level }}'
      value_template: '{% if states.zwave.back_door.attributes.battery_level %}
        {{ states.zwave.back_door.attributes.battery_level }}
      {% else %}
        unknown
      {% endif %}'
      unit_of_measurement: '%'
      entity_id: zwave.back_door
      icon_template: >-
        {% set battery_level = states('sensor.back_door_battery')|int('unknown') %}
        {% set battery_round = (battery_level|int / 10)|int * 10 %}
        {% if battery_level == 'unknown' %}
          mdi:battery-unknown
        {% else %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
        {% endif %}

#-------------------------------------------
#  Garage Door Lock
#-------------------------------------------
- platform: template
  sensors:
    garage_door_battery:
      friendly_name: 'Garage Door Lock Battery'
      # value_template: '{{ states.zwave.garage_door.attributes.battery_level }}'
      value_template: '{% if states.zwave.garage_door.attributes.battery_level %}
        {{ states.zwave.garage_door.attributes.battery_level }}
      {% else %}
        unknown
      {% endif %}'
      unit_of_measurement: '%'
      entity_id: zwave.garage_door
      icon_template: >-
        {% set battery_level = states('sensor.garage_door_battery')|int('unknown') %}
        {% set battery_round = (battery_level|int / 10)|int * 10 %}
        {% if battery_level == 'unknown' %}
          mdi:battery-unknown
        {% else %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
        {% endif %}